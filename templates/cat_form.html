{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-10 col-xl-9">
    <div class="card p-4">
      <h1 class="h5 mb-3">Cadastro de gato</h1>
      <form method="post">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Nome do gato</label>
            <input class="form-control" type="text" name="name" required>
          </div>
          <div class="col-md-3">
            <label class="form-label">Raça</label>
            <select class="form-select" id="breed_id" name="breed_id" onchange="loadColors('breed_id','color_id','ems_code_span')" required>
              <option value="">Selecione...</option>
              {% for b in breeds %}
              <option value="{{ b.id }}">{{ b.name }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Cor</label>
            <select class="form-select" id="color_id" name="color_id" required>
              <option value="">Selecione a raça primeiro</option>
            </select>
            <small class="text-muted">EMS: <span id="ems_code_span"></span></small>
          </div>

          <div class="col-md-3">
            <label class="form-label">Data de nascimento</label>
            <input class="form-control" type="date" name="dob">
          </div>
          <div class="col-md-3">
            <label class="form-label">Registro</label>
            <input class="form-control" type="text" name="registry_number" placeholder="Número">
          </div>
          <div class="col-md-3">
            <label class="form-label">Entidade</label>
            <select class="form-select" name="registry_entity">
              <option value="">Selecione...</option>
              <option>FIFE Brasil</option>
              <option>FIFE não Brasil</option>
              <option>não FIFE</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Microchip</label>
            <input class="form-control" type="text" name="microchip">
          </div>
          <div class="col-md-3">
            <label class="form-label">Sexo</label>
            <select class="form-select" name="sex" required>
              <option value="">Selecione...</option>
              <option>Macho</option>
              <option>Fêmea</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Castrado</label>
            <select class="form-select" name="neutered">
              <option>NÃO</option>
              <option>SIM</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Criador</label>
            <select class="form-select" id="breeder_type" name="breeder_type" onchange="toggleBreederName()">
              <option value="eu">Eu mesmo</option>
              <option value="outro">Outro</option>
            </select>
          </div>
          <div class="col-md-6" id="breeder_name_group" style="display:none;">
            <label class="form-label">Nome do criador</label>
            <input class="form-control" type="text" name="breeder_name">
          </div>
        </div>

        <hr class="my-4">

        <h6>Pai</h6>
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Nome do pai</label>
            <input class="form-control" type="text" name="sire_name">
          </div>
          <div class="col-md-4">
            <label class="form-label">Raça do pai</label>
            <select class="form-select" id="sire_breed_id" name="sire_breed_id" onchange="loadColors('sire_breed_id','sire_color_id','sire_ems_span')">
              <option value="">Selecione...</option>
              {% for b in breeds %}
              <option value="{{ b.id }}">{{ b.name }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Cor do pai</label>
            <select class="form-select" id="sire_color_id" name="sire_color_id">
              <option value="">Selecione a raça primeiro</option>
            </select>
            <small class="text-muted">EMS: <span id="sire_ems_span"></span></small>
          </div>
        </div>

        <h6 class="mt-3">Mãe</h6>
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Nome da mãe</label>
            <input class="form-control" type="text" name="dam_name">
          </div>
          <div class="col-md-4">
            <label class="form-label">Raça da mãe</label>
            <select class="form-select" id="dam_breed_id" name="dam_breed_id" onchange="loadColors('dam_breed_id','dam_color_id','dam_ems_span')">
              <option value="">Selecione...</option>
              {% for b in breeds %}
              <option value="{{ b.id }}">{{ b.name }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Cor da mãe</label>
            <select class="form-select" id="dam_color_id" name="dam_color_id">
              <option value="">Selecione a raça primeiro</option>
            </select>
            <small class="text-muted">EMS: <span id="dam_ems_span"></span></small>
          </div>
        </div>

        <div class="mt-4 d-flex gap-2">
          <button class="btn btn-primary" type="submit">Enviar para aprovação</button>
          <a class="btn btn-outline-secondary" href="{{ url_for('dashboard') }}">Cancelar</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
